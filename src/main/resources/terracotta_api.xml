<?xml version="1.0" encoding="UTF-8" ?>
<!--
All content copyright (c) 2003-2008 Terracotta, Inc.,
except as may otherwise be noted in a separate copyright notice.
All rights reserved.
-->
<xml-fragment>
  <instrumented-classes>
    <include>
      <class-expression>@org.terracotta.annotations.InstrumentedClass *</class-expression>
    </include>
    <include>
      <class-expression>@org.terracotta.annotations.InstrumentedClass @org.terracotta.annotations.HonorTransient *</class-expression>
      <honor-transient>true</honor-transient>
    </include>
  </instrumented-classes>

  <locks>
    <!-- annotation locking expressions -->
    <autolock>
      <method-expression>@org.terracotta.annotations.AutolockWrite * *(..)</method-expression>
      <lock-level>write</lock-level>
    </autolock>
    <autolock auto-synchronized="true">
      <method-expression>@org.terracotta.annotations.AutolockWriteAutoSync * *(..)</method-expression>
      <lock-level>write</lock-level>
    </autolock>    
    <autolock>
      <method-expression>@org.terracotta.annotations.AutolockRead * *(..)</method-expression>
      <lock-level>read</lock-level>
    </autolock>
    <autolock auto-synchronized="true">
      <method-expression>@org.terracotta.annotations.AutolockReadAutoSync * *(..)</method-expression>
      <lock-level>read</lock-level>
    </autolock>    
    <autolock>
      <method-expression>@org.terracotta.annotations.AutolockSynchronousWrite * *(..)</method-expression>
      <lock-level>synchronous-write</lock-level>
    </autolock>
    <autolock auto-synchronized="true">
      <method-expression>@org.terracotta.annotations.AutolockSynchronousWriteAutoSync * *(..)</method-expression>
      <lock-level>synchronous-write</lock-level>
    </autolock>    
    <autolock>
      <method-expression>@org.terracotta.annotations.AutolockConcurrent * *(..)</method-expression>
      <lock-level>concurrent</lock-level>
    </autolock>
  </locks>

  <distributed-methods>
    <method-expression>@org.terracotta.annotations.DMI * *(..)</method-expression>
  </distributed-methods>

  <roots>
    <root>
      <field-expression>@org.terracotta.annotations.Root * *</field-expression>
    </root>
  </roots>

</xml-fragment>
